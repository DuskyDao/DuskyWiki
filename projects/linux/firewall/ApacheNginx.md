#linux #debian #firewall #nginx #apache 
[Оригинал статьи](https://shape.host/resources/securing-apache-and-nginx-firewall-configuration-for-web-servers-on-debian)
### Настройка правил брандмауэра для Apache и Nginx в Debian

#### Настройка правил для Apache:
Откройте стандартные порты HTTP (80) и HTTPS (443).:
```bash
sudo ufw allow http
sudo ufw allow https
```
Для пользовательских портов или конфигураций используйте 
```bash
sudo ufw allow [port_number]/tcp
```
#### Настройка правил для Nginx:
Как и в случае с Apache, убедитесь, что порты HTTP и HTTPS открыты..
Если вы используете Nginx с настройкой обратного прокси-сервера, настройте UFW, чтобы разрешить трафик на соответствующие порты..
1. **Расширенные настройки брандмауэра:**


- **Ведение журнала:** Включите ведение журнала для аудита и устранения неполадок.: `sudo ufw logging on`.

1. **Тестирование и мониторинг настроек брандмауэра:**

- После применения правил брандмауэра проверьте их, чтобы убедиться, что ваш веб-сервер доступен должным образом..
- Регулярно проверяйте логи UFW (`/var/log/ufw.log`) за любые подозрительные действия.

**Лучшие практики управления брандмауэром в Debian**

- **Регулярно обновляйте правила:** Постоянно обновляйте правила брандмауэра, чтобы учитывать любые изменения в конфигурации вашего веб-сервера или новые угрозы..
- **Используйте Fail2Ban:** Внедрите Fail2Ban для автоматического запрета IP-адресов, которые проявляют вредоносные намерения в отношении вашего сервера..
- **Резервное копирование вашей конфигурации:** Регулярно делайте резервную копию настроек брандмауэра, чтобы при необходимости их можно было легко восстановить..